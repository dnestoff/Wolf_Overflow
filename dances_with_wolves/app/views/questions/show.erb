<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Question</title>
  </head>
  <body>
    <div class="container">

      <h3><%= @question.title %></h3>
      <tr>
            <form action="/questions/<%=@question.id%>/votes/new/upvote" method="post">
              <td><input type="image" height="20" width="20" src="https://image.freepik.com/free-icon/thumbs-up-hand-outline_318-41813.jpg" alt="Upvote"></td>
            </form>
            <form action="/questions/<%=@question.id%>/votes/new/downvote" method="post">
              <td><input type="image" height="20" width="20" src="https://image.freepik.com/free-icon/thumbs-down-hand-outline_318-41753.png"></td>
            </form>
        <td><%= Vote.vote_count(@question) %></td>
      </tr>
      <p>

        <li><%= @question.text %></li>
      </p>
    </div>

    <% if logged_in? %>
      <%= erb :"/comments/_new_question_comment", layout: false, locals: {questions: @question } %>
    <% end %>

    <div class="container" id="question-comment-list">
      <h6>Comments:</h6>

      <table>
        <% @comments.each do |comment| %>
        <tr>
            <form action="/questions/<%=@question.id%>/comments/<%=comment.id%>/votes/new/upvote" method="post">
              <td><input type="image" height="20" width="20" src="https://image.freepik.com/free-icon/thumbs-up-hand-outline_318-41813.jpg" alt="Upvote"></td>
            </form>
            <form action="/questions/<%=@question.id%>/comments/<%=comment.id%>/votes/new/downvote" method="post">
              <td><input type="image" height="20" width="20" src="https://image.freepik.com/free-icon/thumbs-down-hand-outline_318-41753.png"></td>
            </form>
            <td><%= Vote.vote_count(comment) %></td>
          </td>
          <td>
            <%= comment.text %> by <%= comment.commenter.username %>
          </td>
          <td>
            <a href="/questions/<%= @question.id %>/comments/<%= comment.id %>/edit">Edit</a>
          </td>
          <td>
            <form class="delete-question-comment" action="/questions/<%= @question.id %>/comments/<%= comment.id %>" method="post">
              <input type="hidden" name="_method" value="DELETE">
              <input class="button" type="submit" value="Delete">
            </form>
          </td>
        </tr>
        <% end %>
      </table>

    </div>
    <br>
    <% if logged_in? %>
    <form method='get' action="/questions/<%=@question.id%>/answers/new">
      <input type="Submit" value="Post Your Answer">
    </form>
    <% end %>

    <div class="container" id="answer-list">
        <% @answers.each do |answer| %>

            <table>
            <tr>
              <form action="/questions/<%=answer.question_id%>/answers/<%=answer.id%>/votes/new/upvote" method="post">
                <td><input type="image" height="42" width="42" src="https://image.freepik.com/free-icon/thumbs-up-hand-outline_318-41813.jpg" alt="Upvote"></td>
              </form>
              <form action="/questions/<%=answer.question_id%>/answers/<%=answer.id%>/votes/new/downvote" method="post">
                <td><input type="image" height="42" width="42" src="https://image.freepik.com/free-icon/thumbs-down-hand-outline_318-41753.png"></td>
              </form>
              <td><%= Vote.vote_count(answer) %></td>
              <td><%= answer.text %></td>
              <% if logged_in? %>
              <td><a href="/questions/<%=answer.question_id%>/answers/<%=answer.id%>/edit">Edit</a></td>
              <td><%= erb :'answers/_delete_answer', layout: false, locals: { question: @question, answer: answer } %></td>
              <% end %>
            </tr>
          </table>
        <% end %>
    </div>
  </body>
</html>
